{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block extra_head %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
{% endblock %}

{% block content %}
<header class="dashboard-header">
    <div class="header-title">
        <h1>Welcome Back!</h1>
        <p>{{ session['email'] }}</p>
    </div>
    <button class="btn-primary" onclick="showAddPlantModal()">
        <i class="fas fa-plus"></i>
        Add New Plant
    </button>
</header>

<div class="overview-cards">
    <div class="card">
        <i class="fas fa-seedling"></i>
        <div class="card-info">
            <h3>Total Plants</h3>
            <p>{{ plants|length }}</p>
        </div>
    </div>
    <div class="card">
        <i class="fas fa-tint"></i>
        <div class="card-info">
            <h3>Need Water</h3>
            <p>{{ plants|selectattr('moisture_level', '<', 30)|list|length }}</p>
        </div>
    </div>
    <div class="card">
        <i class="fas fa-thermometer-half"></i>
        <div class="card-info">
            <h3>Avg Temperature</h3>
            <p>24Â°C</p>
        </div>
    </div>
</div>

<div class="plants-grid">
    {% for plant in plants %}
    <div class="plant-card">
        <!-- Plant card content remains the same -->
    </div>
    {% endfor %}
</div>

<!-- Add Plant Modal remains the same -->
{% endblock %}

{% block scripts %}
<script>
// Modal scripts remain the same
</script>
{% endblock %}
